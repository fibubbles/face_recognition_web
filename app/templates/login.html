{% extends "layout.html" %}

{% block title %}Login{% endblock %}

{% block content %}
<div class="d-flex justify-content-center align-items-center " style="min-height: 85vh; background-image: url('https://icf.newscdn.net/publisher-5525e13a69842c55c6fd1755f505491a/2021/08/4469b6195feb97095a33b275cea1b2ab.jpg'); background-size: cover; background-position: center;">
  <div class="card shadow p-4 w-100" style="max-width: 420px;">

    <!-- Logo UiTM -->
    <div class="text-center mb-4">
      <img src="{{ url_for('static', filename='img/Hidrokinetik Logo.jpg') }}" alt="Hidrokinetik Logo" height="80">
      <h4 class="mt-3 fw-semibold">Admin Login</h4>
    </div>

    <!-- Flash Message -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <!-- Login Form -->
    <form method="POST">
      {{ form.hidden_tag() }}

      <div class="mb-3">
        {{ form.username.label(class="form-label") }}
        {{ form.username(class="form-control", placeholder="Enter your username") }}
      </div>

      <div class="mb-3">
        {{ form.password.label(class="form-label") }}
        {{ form.password(class="form-control", placeholder="Enter your password") }}
      </div>

      <div class="d-grid mb-3">
        {{ form.submit(class="btn btn-dark") }}
      </div>
    </form>

    <!-- Optional Register Link -->
    <div class="text-center">
      <small>Belum ada akaun? <a href="{{ url_for('main.register') }}">Daftar di sini</a></small>
    </div>

    <!-- Footer -->
    <div class="text-center mt-4">
      <small class="text-muted">&copy; Hidrokinetik & Barracuda Labs {{ current_year or '2025' }}</small>
    </div>

  </div>
</div>
{% endblock %}
